#Test that csv-sort --min and --max operation works correctly

# Note the index of input[] does not matter
csv_sort/min_max/test[0]/input[0]="a,1,2"
csv_sort/min_max/test[0]/input[0]="b,3,4"
csv_sort/min_max/test[0]/input[0]="a,3,5"
csv_sort/min_max/test[0]/input[0]="a,2,8"
csv_sort/min_max/test[0]/input[0]="c,2,5"
csv_sort/min_max/test[0]/input[0]="d,3,3"
csv_sort/min_max/test[0]/input[0]="d,2,9"
csv_sort/min_max/test[0]/input[0]="c,4,5"
csv_sort/min_max/test[0]/input[0]="d,2,5"
csv_sort/min_max/test[0]/input[0]="d,1,9"
csv_sort/min_max/test[0]/command[0]="csv-sort --fields=id,min --min "
csv_sort/min_max/test[0]/command[1]="csv-sort --fields=id,,min --min "
csv_sort/min_max/test[0]/command[2]="csv-sort --fields=id,max --max "
csv_sort/min_max/test[0]/command[3]="csv-sort --fields=id,,max --max "
csv_sort/min_max/test[0]/command[4]="csv-sort --fields=,,max --max "

# ID field is second field
csv_sort/min_max/test[1]/input[1]="a,1,2"
csv_sort/min_max/test[1]/input[1]="b,2,4"
csv_sort/min_max/test[1]/input[1]="c,2,5"
csv_sort/min_max/test[1]/input[1]="z,9,5"
csv_sort/min_max/test[1]/input[1]="m,9,9"
csv_sort/min_max/test[1]/input[1]="d,8,5"
csv_sort/min_max/test[1]/input[1]="d,9,3"
csv_sort/min_max/test[1]/input[1]="o,8,9"
csv_sort/min_max/test[1]/input[1]="d,1,5"
csv_sort/min_max/test[1]/input[1]="e,1,8"
csv_sort/min_max/test[1]/command[0]="csv-sort --fields=min,id --min "
csv_sort/min_max/test[1]/command[1]="csv-to-bin 's[1],ui,ui' | csv-sort --fields=min,id --min --binary='s[1],ui,ui' | csv-from-bin 's[1],ui,ui' "
csv_sort/min_max/test[1]/command[2]="csv-sort --fields=m,id --max "

# Using multi ID keys
csv_sort/multi_id_keys/test[0]/input[0]="2,d,1"
csv_sort/multi_id_keys/test[0]/input[1]="5,d,1"
csv_sort/multi_id_keys/test[0]/input[2]="8,e,2"
csv_sort/multi_id_keys/test[0]/input[3]="5,e,4"
csv_sort/multi_id_keys/test[0]/input[4]="1,e,4"
csv_sort/multi_id_keys/test[0]/input[5]="1,e,4"
csv_sort/multi_id_keys/test[0]/input[6]="2,c,7"
csv_sort/multi_id_keys/test[0]/input[7]="3,c,7"
csv_sort/multi_id_keys/test[0]/command[0]="csv-sort --fields=a,id,id --max "
csv_sort/multi_id_keys/test[0]/command[1]="csv-to-bin 'i,s[1],i' | csv-sort --fields=a,id,id --max --binary='i,s[1],i' | csv-from-bin 'i,s[1],i' "
csv_sort/multi_id_keys/test[0]/command[2]="csv-sort --fields=a,id,id --min "

# Find min or max in all the records
csv_sort/no_id_field/test[0]/input[0]="a,1,2"
csv_sort/no_id_field/test[0]/input[1]="d,1,5"
csv_sort/no_id_field/test[0]/input[2]="e,1,8"
csv_sort/no_id_field/test[0]/input[3]="b,2,4"
csv_sort/no_id_field/test[0]/input[4]="c,2,5"
csv_sort/no_id_field/test[0]/input[5]="z,9,5"
csv_sort/no_id_field/test[0]/input[6]="d,9,3"
csv_sort/no_id_field/test[0]/input[7]="m,9,9"
csv_sort/no_id_field/test[0]/input[8]="d,8,5"
csv_sort/no_id_field/test[0]/input[9]="o,8,9"
csv_sort/no_id_field/test[0]/command[0]="csv-sort --fields=,,a --min "
csv_sort/no_id_field/test[0]/command[1]="csv-to-bin 's[1],ui,ui' | csv-sort --fields=,,a --min --binary='s[1],ui,ui' | csv-from-bin 's[1],ui,ui' "
csv_sort/no_id_field/test[0]/command[2]="csv-sort --fields=,,a --max "
