finite state machine. given state-transition table, read event, output next state and update internal state
